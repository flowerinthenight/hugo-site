














    
        
    







    

    






<?xml version="1.0" encoding="utf-8"?>
<feed  xml:lang="en"  xmlns="http://www.w3.org/2005/Atom">
    
        <author>
            
                <email>example@example.com</email>
            

            
                <name>John Doe</name>
            

            
                <uri>https://example.com</uri>
            
        </author>
    

    
        <icon>http://localhost:1313/</icon>
    

    <id>tag:localhost:1313,0001-01-01:/tags/tabwriter/atom.xml</id>

    
        

        
            
        

        
            <link href="http://localhost:1313/tags/tabwriter/atom.xml" rel="self" type="application/atom+xml"/>
        
    
        

        
            
        

        
            <link href="http://localhost:1313/tags/tabwriter/" rel="alternate" type="text/html"/>
        
    
        

        

        
            <link href="http://localhost:1313/tags/tabwriter/rss.xml" rel="alternate" type="application/rss+xml"/>
        
    

    

    
        <logo>http://localhost:1313/</logo>
    

    
        <rights type="html"><![CDATA[© Flowerinthenight, 2016-2024. All rights reserved.]]></rights>
    

    

    <title type="html"><![CDATA[Tabwriter · Tags · About]]></title>
    <updated>2024-01-18T21:32:52-07:00</updated>

    
        <entry>
            
            
            
            
            
            
            

            

            

            

            

            
                
            

            

            
                <content type="html"><![CDATA[<p>If you&rsquo;ve been following the blog, you know that I&rsquo;m a fan of <a href="https://github.com/spf13/cobra">cobra</a> as a CLI library. Let me share how I use <a href="https://golang.org/pkg/text/tabwriter/">tabwriter</a> to compliment cobra&rsquo;s autogenerated help information. For reference, you can check this <a href="https://flowerinthenight.com/blog/2017/12/01/golang-cobra-glog">post</a> as well.</p>
<p>The following code is a copy (not an exact copy) of one of the tools that I use at work.</p>
<p>{% gist d00e0d81ba85b3940312f0a3c33bcaef %}</p>
<p>It will look something like this.</p>
<p>{% highlight plaintext %}
Trigger a manual run, among other tools.</p>
<p>Format for the &ndash;input flag:
payer:<id>[/link1,link2,&hellip;]     run manual calculation at payer level, optional link acct list is for log filtering
msp:<id>                         run manual calculation at MSP level
link:<id>                        run manual calculation at link acct level
detectri:&lt;msp|payer&gt;[:id]        run RI detection manually
detectsp:&lt;msp|payer&gt;[:id]        run SavingsPlan detection manually
curlinks:&lt;msp|payer&gt;[:id]        detect actual customers from CUR, can use &ndash;detect-moved-payer flag
fees:<id>                        detect fees for the input link id
detecttags:<id>                  detect tags for the input payer id</p>
<p>Notes:</p>
<ul>
<li>When triggering CUR (using trigger: input), it&rsquo;s recommended to use the &ndash;use-sns flag.</li>
</ul>
<p>Usage:
linkbatchd manualrun [flags]</p>
<p>Flags:
&ndash;input string              see subcommand description for more details
&ndash;date string               date to trigger in UTC, fmt: yyyy-mm-dd, yyyy-mm-dd,yyyy-mm-dd for date range (from,to)
&ndash;invoice-type string       type of invoice to calculate: &lsquo;account&rsquo; or &lsquo;cross_tag&rsquo;, used in trigger: input
{% endhighlight %}</p>
]]></content>
            

            <id>tag:localhost:1313,0001-01-01:/blog/2020-02-27-cobra-tabwriter/</id>

            
                

                
                    

                    <link href="http://localhost:1313/blog/2020-02-27-cobra-tabwriter/" rel="alternate" type="text/html"/>
                
            

            

            

            
                <rights type="html"><![CDATA[© Flowerinthenight, 2016-2024. All rights reserved.]]></rights>
            

            

            <title type="html"><![CDATA[Using tabwriter to improve on cobra&rsquo;s help information]]></title>
            <updated>0001-01-01T00:00:00Z</updated>
        </entry>
    
</feed>
